---                                                                                     
name: impl-general
description: "コードの実装を行う際の全般的なルール。実装タスクで常に適用する"
---

# コーディング一般ルール

## ネーミング

- 変数名・関数名は省略せず、初見であっても意図が分かる名前にする
- 下記のような情報を増やさないワードは、原則として使わない
    - data
    - info
    - result
    - value
- また、単に型名をそのまま変数名にすることも原則的に避ける
    - 型がMapの変数名を単に`map`とするなど
    - ただし、以下を例外とする
        - スコープが数行と極めて短いローカル変数の場合
        - 型変換を行う関数内など、型の情報こそが重要な場合


## 関数について

- 1つの関数が過剰に大きくなることを避ける
- 明確な基準は設けないが、1つの関数が数十行に及ぶ場合は分割ができないかを考える


# 実装手順について

実装を指示されたら、以下の手順で進める

- 実装計画を参照する
    - 実装計画が存在しない場合、実装に着手しない
- 実装計画を元に、これからどのような作業を行うのかのTODOを作成する
    - 原則的に、t_wada氏やKent Beck氏が提唱するテストファーストな手法に則り、Red-Green-Refactorを繰り返す
    - TODOの1stepは、概ね1つのコミットに収まる程度のボリュームを基準とする
    - コミットの単位については /commit も参照する
- 実装完了までのTODOを作成したら、ユーザの承認を得る
- 1step分の実装が完了したらコミットする
    - コミット条件は /commit を使用する
- 全ステップが完了したらサマリを報告する
    - 事前の計画通りに勧められなかった箇所の有無は必ず報告に含める

ただし、以下の状況に陥った場合、実装作業を中断してユーザに状況を説明し判断を仰ぐ

- 何度修正しても同じ（あるいは同じような）エラーが発生し、問題が解消されない
- 事前の計画を大きく変更しないと実装できない、あるいは要件を満たせない問題が見つかった

